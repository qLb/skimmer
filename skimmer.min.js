"use strict";!function(e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports=e():window.skimmer=e.call(this)}(function(){var e=function(e){e.rate=e.rate||10,e.delay=e.delay||2.5,e.multiple=e.multiple,e.trigger=e.trigger||function(){},e.update=e.update||function(){};var t=1e3,n=!1,i=!1,r={scroll:{previous:0,net:0},time:{previous:0,net:0,start:0}},o=!1,l=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},u=function(e){return+e.toFixed(2)},s=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return e.update({rate:u(t),elapsed:u(n),percent:u(i)})},d=function(){r.scroll.net=0,r.time.net=0,r.time.start=(new Date).getTime(),r.time.previous=(new Date).getTime(),s()},a=function(){if(o=!1,i){var l=document.documentElement.scrollHeight-window.innerHeight,a=window.pageYOffset,m=(new Date).getTime(),f=a-r.scroll.previous,p=m-r.time.previous;if(r.scroll.net+=f/l*100,r.time.net=m-r.time.start,r.time.previous=m,r.scroll.previous=window.pageYOffset,0>f||p>t/2)return d(),!1;var g=r.time.net/t,v=Math.min(100,r.scroll.net/g);v>e.rate&&g>e.delay?(n||e.trigger({rate:u(v),elapsed:u(g),percent:u(r.scroll.net),triggered:!0}),e.multiple||(n=!0,window.removeEventListener("scroll",c,!1))):s(v,g,r.scroll.net)}else i=!0;return!0},c=function(){o||l(a),o=!0},m=function(){d(),window.addEventListener("scroll",c,!1)};m()};return e});