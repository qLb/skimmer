"use strict";!function(e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports=e():window.skimmer=e.call(this)}(function(){function e(e,t,n){t||(t=250);var i,o;return function(){var r=n||this,s=+new Date,l=arguments;i&&i+t>s?(clearTimeout(o),o=setTimeout(function(){i=s,e.apply(r,l)},t)):(i=s,e.apply(r,l))}}var t=function(t){var n=t.sensitivity,i=void 0===n?.5:n,o=t.delay,r=void 0===o?2.5:o,s=t.once,l=void 0===s?!0:s,u=t.trigger,c=void 0===u?function(){}:u,d=t.update,a=void 0===d?function(){}:d,v={sensitivity:i,delay:r,once:l,trigger:c,update:a},f=1e3,m=10,p=null,g=!1,w=!1,y={scroll:{previous:0,net:0},time:{previous:0,net:0,start:0}},h=function(e){return+e.toFixed(2)},T=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return v.update({score:h(e),elapsed:h(t),percent:h(n)})},D=function(){y.scroll.net=0,y.time.net=0,y.time.start=(new Date).getTime(),y.time.previous=(new Date).getTime(),T()},x=function(){if(w){var e=document.documentElement.scrollHeight-window.innerHeight,t=window.pageYOffset,n=(new Date).getTime(),i=t-y.scroll.previous,o=n-y.time.previous;if(y.scroll.net+=i/e*100,y.time.net=n-y.time.start,y.time.previous=n,y.scroll.previous=window.pageYOffset,0>i||o>f)return D(),!1;var r=y.time.net/f,s=y.scroll.net/r;s>v.sensitivity*m&&r>v.delay?(g||v.trigger({score:h(s),elapsed:h(r),percent:h(y.scroll.net),triggered:!0}),v.once&&(g=!0,window.removeEventListener("scroll",p,!1))):T(s,r,y.scroll.net)}else w=!0},E=function(){D(),p=e(x,f/4),window.addEventListener("scroll",p,!1)};E()};return t});